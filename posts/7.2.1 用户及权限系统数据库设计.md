#用户及权限系统数据库设计
针对用户担任的不同角色，用户间的关系，模块的不同，用户拥有的访问、操作权限也不尽相同，下面从各模块角度进行分析并对用户及权限进行相应数据库设计。

##列表显示模块
提供为当前用户显示好友列表、群列表的功能。对于好友列表，系统只会返回与当前用户为好友关系的用户，依据表friendship获取好友列表：
string	string
user_uid1	user_uid2
表中存在记录<user_uid1, user_uid2>表示ID为user_uid1和user_uid2的两个用户存在好友关系。
对于群列表，系统只会返回当前用户参加的群，依据表groupmember获取群列表：
int	string
group_gid	user_uid
表中存在记录<group_gid, user_uid>表示ID为group_gid的群存在ID为user_uid的成员。

##消息通知模块
根据消息类型、用户角色因素，用户享有不同的访问以及操作权利。
对于好友申请消息，依据表friendadd：
|boolean|	string	|string|
|state	|sender_uid|	receiver_uid|
当前用户只能获取自己身为sender_uid或receiver_uid的好友申请消息，同时，只能对自己身为receiver_uid的好友申请消息进行同意/拒绝操作。
对于群邀请消息，依据表groupinvite：
|int	|string|
|group_gid|	user_uid|
当前用户只能获取自己身为user_uid的群邀请记录，并对该条记录进行同意/拒绝操作。
对于群申请消息，依据表groupapply：
|string|	int|
|user_uid|	group_gid|
以及表groupchat中user_uid字段，该消息只由目标群的管理员收取，并执行同意/拒绝操作。

##信息查询模块
群信息查询不涉及权限。而在用户信息查询，用户自身消息的查询支持密码信息的显示以及相关信息的修改，而对其他用户信息的查询只显示无隐私的相关。

##好友、群管理模块
依据表groupmember：
|int	|string|
|group_gid|	user_uid|
以及表friendship：
|string|	string|
|user_uid1	|user_uid2|
用户只能删除friendship中存在的好友，以及从groupmember中存在的群中退出